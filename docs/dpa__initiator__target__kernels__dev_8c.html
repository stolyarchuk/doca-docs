<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NVIDIA DOCA SDK: samples/doca_dpa/dpa_initiator_target/device/dpa_initiator_target_kernels_dev.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<!-- Doxygen Awesome CSS -->
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
DoxygenAwesomeFragmentCopyButton.init()
DoxygenAwesomeParagraphLink.init()
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectname">NVIDIA DOCA SDK
  </td>
  <td id="projectbrief">Data Center on a Chip Framework Documentation</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dpa__initiator__target__kernels__dev_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dpa_initiator_target_kernels_dev.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="doca__dpa__dev_8h_source.html">doca_dpa_dev.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__dpa__dev__rdma_8h_source.html">doca_dpa_dev_rdma.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__dpa__dev__buf_8h_source.html">doca_dpa_dev_buf.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="dpa__initiator__target__common__defs_8h_source.html">../common/dpa_initiator_target_common_defs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dpa_initiator_target_kernels_dev.c:</div>
<div class="dyncontent">
<div class="center"><img src="dpa__initiator__target__kernels__dev_8c__incl.png" border="0" usemap="#asamples_2doca__dpa_2dpa__initiator__target_2device_2dpa__initiator__target__kernels__dev_8c" alt=""/></div>
<map name="asamples_2doca__dpa_2dpa__initiator__target_2device_2dpa__initiator__target__kernels__dev_8c" id="asamples_2doca__dpa_2dpa__initiator__target_2device_2dpa__initiator__target__kernels__dev_8c">
<area shape="rect" title=" " alt="" coords="653,5,902,61"/>
<area shape="rect" href="doca__dpa__dev_8h.html" title=" " alt="" coords="539,266,666,293"/>
<area shape="rect" href="doca__dpa__dev__rdma_8h.html" title=" " alt="" coords="473,109,641,136"/>
<area shape="rect" href="doca__dpa__dev__buf_8h.html" title=" " alt="" coords="615,184,769,211"/>
<area shape="rect" href="dpa__initiator__target__common__defs_8h.html" title=" " alt="" coords="768,259,947,300"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="822,423,893,449"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="372,497,447,524"/>
<area shape="rect" href="doca__compat_8h.html" title=" " alt="" coords="542,348,663,375"/>
<area shape="rect" href="____stddef__ptrdiff__t_8h.html" title=" " alt="" coords="5,572,152,599"/>
<area shape="rect" href="____stddef__size__t_8h.html" title=" " alt="" coords="177,572,311,599"/>
<area shape="rect" href="____stddef__wchar__t_8h.html" title=" " alt="" coords="336,572,483,599"/>
<area shape="rect" href="____stddef__null_8h.html" title=" " alt="" coords="507,572,627,599"/>
<area shape="rect" href="____stddef__offsetof_8h.html" title=" " alt="" coords="651,572,797,599"/>
<area shape="rect" href="doca__config_8h.html" title=" " alt="" coords="687,423,798,449"/>
<area shape="rect" title=" " alt="" coords="254,423,325,449"/>
<area shape="rect" title=" " alt="" coords="349,423,419,449"/>
<area shape="rect" title=" " alt="" coords="444,423,519,449"/>
<area shape="rect" href="doca__version_8h.html" title=" " alt="" coords="543,423,663,449"/>
<area shape="rect" href="doca__build__config_8h.html" title=" " alt="" coords="667,497,818,524"/>
<area shape="rect" href="doca__dpa__dev__sync__event_8h.html" title=" " alt="" coords="383,184,591,211"/>
</map>
</div>
</div>
<p><a href="dpa__initiator__target__kernels__dev_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a377de573b2619d64bd78b6d9d2e8f175"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpa__ping__pong__common__defs_8h.html#acc9b62ff5f002a2ade2d0ae770aefb68">__dpa_global__</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpa__initiator__target__kernels__dev_8c.html#a377de573b2619d64bd78b6d9d2e8f175">thread1_kernel</a> (uint64_t arg)</td></tr>
<tr class="memdesc:a377de573b2619d64bd78b6d9d2e8f175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kernel function for DPA thread #1.  <a href="dpa__initiator__target__kernels__dev_8c.html#a377de573b2619d64bd78b6d9d2e8f175">More...</a><br /></td></tr>
<tr class="separator:a377de573b2619d64bd78b6d9d2e8f175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e984933e21e6f574ce9c95d2b8a5d27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpa__ping__pong__common__defs_8h.html#acc9b62ff5f002a2ade2d0ae770aefb68">__dpa_global__</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpa__initiator__target__kernels__dev_8c.html#a2e984933e21e6f574ce9c95d2b8a5d27">thread2_kernel</a> (uint64_t arg)</td></tr>
<tr class="memdesc:a2e984933e21e6f574ce9c95d2b8a5d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kernel function for DPA thread #2.  <a href="dpa__initiator__target__kernels__dev_8c.html#a2e984933e21e6f574ce9c95d2b8a5d27">More...</a><br /></td></tr>
<tr class="separator:a2e984933e21e6f574ce9c95d2b8a5d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b23c05e3c89e7fc565be348c369ec5"><td class="memItemLeft" align="right" valign="top">__dpa_rpc__ uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpa__initiator__target__kernels__dev_8c.html#a66b23c05e3c89e7fc565be348c369ec5">rdma_post_receive_rpc</a> (<a class="el" href="group__DOCA__DPA__HOST.html#ga2c343a3f308def43eff7b2ad1bda9828">doca_dpa_dev_t</a> rdma_dpa_ctx_handle, <a class="el" href="group__DOCA__RDMA.html#gadb533b1f5e0b511e7eec6d74e738193b">doca_dpa_dev_rdma_t</a> target_rdma, <a class="el" href="group__DOCA__DPA__HOST.html#gac80f057cb11e9ee53f92bec73537ca10">doca_dpa_dev_uintptr_t</a> <a class="el" href="dpa__initiator__target__common__defs_8h.html#ad1915113877683d9fc5e1f675633418c">local_buf_addr</a>, <a class="el" href="group__DOCA__MMAP.html#ga1b8d010adfa1db97e3a0e182e5ae7580">doca_dpa_dev_mmap_t</a> <a class="el" href="dpa__initiator__target__common__defs_8h.html#aa9bda34c05ad4c5725db76f71ab716bb">dpa_mmap_handle</a>, <a class="el" href="____stddef__size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> <a class="el" href="dpa__initiator__target__common__defs_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a>)</td></tr>
<tr class="memdesc:a66b23c05e3c89e7fc565be348c369ec5"><td class="mdescLeft">&#160;</td><td class="mdescRight">RPC function to post first RDMA receive operation on target RDMA.  <a href="dpa__initiator__target__kernels__dev_8c.html#a66b23c05e3c89e7fc565be348c369ec5">More...</a><br /></td></tr>
<tr class="separator:a66b23c05e3c89e7fc565be348c369ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d6b33eb44fcc9057eb135c44ae2b89"><td class="memItemLeft" align="right" valign="top">__dpa_rpc__ uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpa__initiator__target__kernels__dev_8c.html#a16d6b33eb44fcc9057eb135c44ae2b89">rdma_post_send_imm_rpc</a> (<a class="el" href="group__DOCA__DPA__HOST.html#ga2c343a3f308def43eff7b2ad1bda9828">doca_dpa_dev_t</a> rdma_dpa_ctx_handle, <a class="el" href="group__DOCA__RDMA.html#gadb533b1f5e0b511e7eec6d74e738193b">doca_dpa_dev_rdma_t</a> rdma, uint32_t connection_id, <a class="el" href="stdint_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a> <a class="el" href="dpa__initiator__target__common__defs_8h.html#ad1915113877683d9fc5e1f675633418c">local_buf_addr</a>, <a class="el" href="group__DOCA__MMAP.html#ga1b8d010adfa1db97e3a0e182e5ae7580">doca_dpa_dev_mmap_t</a> <a class="el" href="dpa__initiator__target__common__defs_8h.html#aa9bda34c05ad4c5725db76f71ab716bb">dpa_mmap_handle</a>, <a class="el" href="____stddef__size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> <a class="el" href="dpa__initiator__target__common__defs_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a>, uint32_t immediate)</td></tr>
<tr class="memdesc:a16d6b33eb44fcc9057eb135c44ae2b89"><td class="mdescLeft">&#160;</td><td class="mdescRight">RPC function to post RDMA send with immediate operation.  <a href="dpa__initiator__target__kernels__dev_8c.html#a16d6b33eb44fcc9057eb135c44ae2b89">More...</a><br /></td></tr>
<tr class="separator:a16d6b33eb44fcc9057eb135c44ae2b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afc0d191b88ebe3d05b3b21e52f2dff1e"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpa__initiator__target__kernels__dev_8c.html#afc0d191b88ebe3d05b3b21e52f2dff1e">received_values</a> [<a class="el" href="dpa__ping__pong__common__defs_8h.html#abb44cba65fd8e08a17167e19cc9f4b2a">EXPECTED_NUM_RECEIVES</a>] = {0}</td></tr>
<tr class="memdesc:afc0d191b88ebe3d05b3b21e52f2dff1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array used to mark received data when completion is received.  <a href="dpa__initiator__target__kernels__dev_8c.html#afc0d191b88ebe3d05b3b21e52f2dff1e">More...</a><br /></td></tr>
<tr class="separator:afc0d191b88ebe3d05b3b21e52f2dff1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1321634b992dc48e58abac01e7f69177"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpa__initiator__target__kernels__dev_8c.html#a1321634b992dc48e58abac01e7f69177">num_receive</a> = 0</td></tr>
<tr class="memdesc:a1321634b992dc48e58abac01e7f69177"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of current receive completions.  <a href="dpa__initiator__target__kernels__dev_8c.html#a1321634b992dc48e58abac01e7f69177">More...</a><br /></td></tr>
<tr class="separator:a1321634b992dc48e58abac01e7f69177"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a66b23c05e3c89e7fc565be348c369ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66b23c05e3c89e7fc565be348c369ec5">&#9670;&nbsp;</a></span>rdma_post_receive_rpc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__dpa_rpc__ uint64_t rdma_post_receive_rpc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__DOCA__DPA__HOST.html#ga2c343a3f308def43eff7b2ad1bda9828">doca_dpa_dev_t</a>&#160;</td>
          <td class="paramname"><em>rdma_dpa_ctx_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DOCA__RDMA.html#gadb533b1f5e0b511e7eec6d74e738193b">doca_dpa_dev_rdma_t</a>&#160;</td>
          <td class="paramname"><em>target_rdma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DOCA__DPA__HOST.html#gac80f057cb11e9ee53f92bec73537ca10">doca_dpa_dev_uintptr_t</a>&#160;</td>
          <td class="paramname"><em>local_buf_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DOCA__MMAP.html#ga1b8d010adfa1db97e3a0e182e5ae7580">doca_dpa_dev_mmap_t</a>&#160;</td>
          <td class="paramname"><em>dpa_mmap_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="____stddef__size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RPC function to post first RDMA receive operation on target RDMA. </p>
<p>This RPC is used by target host application to post the first RDMA receive operation on DPA local buffer. This buffer will be reused again after each completion</p>
<p>@rdma_dpa_ctx_handle [in]: DPA context handle used for RDMA DOCA device. Needed when running from DPU @target_rdma [in]: Target RDMA DPA handle @local_buf_addr [in]: address of received buffer used for Target RDMA @dpa_mmap_handle [in]: DOCA Mmap handle for local_buf_addr @length [in]: length of received buffer </p><dl class="section return"><dt>Returns</dt><dd>: RPC function always succeed and returns 0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html#l00160">160</a> of file <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html">dpa_initiator_target_kernels_dev.c</a>.</p>

</div>
</div>
<a id="a16d6b33eb44fcc9057eb135c44ae2b89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d6b33eb44fcc9057eb135c44ae2b89">&#9670;&nbsp;</a></span>rdma_post_send_imm_rpc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__dpa_rpc__ uint64_t rdma_post_send_imm_rpc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__DOCA__DPA__HOST.html#ga2c343a3f308def43eff7b2ad1bda9828">doca_dpa_dev_t</a>&#160;</td>
          <td class="paramname"><em>rdma_dpa_ctx_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DOCA__RDMA.html#gadb533b1f5e0b511e7eec6d74e738193b">doca_dpa_dev_rdma_t</a>&#160;</td>
          <td class="paramname"><em>rdma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>connection_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>&#160;</td>
          <td class="paramname"><em>local_buf_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DOCA__MMAP.html#ga1b8d010adfa1db97e3a0e182e5ae7580">doca_dpa_dev_mmap_t</a>&#160;</td>
          <td class="paramname"><em>dpa_mmap_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="____stddef__size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>immediate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RPC function to post RDMA send with immediate operation. </p>
<p>This RPC is used by initiator host application to post RDMA send with immediate operation on host local buffer</p>
<p>@rdma_dpa_ctx_handle [in]: DPA context handle used for RDMA DOCA device. Needed when running from DPU @rdma [in]: RDMA DPA handle @connection_id [in]: RDMA connection ID @local_buf_addr [in]: address of send buffer @dpa_mmap_handle [in]: send DOCA Mmap handle @length [in]: length of send buffer @immediate [in]: immediate data </p><dl class="section return"><dt>Returns</dt><dd>: RPC function always succeed and returns 0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html#l00193">193</a> of file <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html">dpa_initiator_target_kernels_dev.c</a>.</p>

</div>
</div>
<a id="a377de573b2619d64bd78b6d9d2e8f175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377de573b2619d64bd78b6d9d2e8f175">&#9670;&nbsp;</a></span>thread1_kernel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpa__ping__pong__common__defs_8h.html#acc9b62ff5f002a2ade2d0ae770aefb68">__dpa_global__</a> void thread1_kernel </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kernel function for DPA thread #1. </p>
<p>This kernel is triggered when a completion is received on attached RDMA context. This kernel is triggered four times, on each, it receives data on DPA buffer with values 1, 2, 3 and 4. On each completion, it gets and dumps completion info. When number of received completions is 4, it verifies all data values (1, 2, 3, 4) were received. if checker passed, DPA Thread #1 notifies DPA Thread #2 and finish, otherwise it errors and finish.</p>
<ul>
<li>[in]: Kernel argument </li>
</ul>

<p class="definition">Definition at line <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html#l00056">56</a> of file <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html">dpa_initiator_target_kernels_dev.c</a>.</p>

</div>
</div>
<a id="a2e984933e21e6f574ce9c95d2b8a5d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e984933e21e6f574ce9c95d2b8a5d27">&#9670;&nbsp;</a></span>thread2_kernel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpa__ping__pong__common__defs_8h.html#acc9b62ff5f002a2ade2d0ae770aefb68">__dpa_global__</a> void thread2_kernel </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kernel function for DPA thread #2. </p>
<p>This kernel is triggered when DPA thread #1 notifies DPA thread #2. This kernel sets host sync event to let host application start destroying all resources and ending the application</p>
<ul>
<li>[in]: Kernel argument </li>
</ul>

<p class="definition">Definition at line <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html#l00134">134</a> of file <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html">dpa_initiator_target_kernels_dev.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1321634b992dc48e58abac01e7f69177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1321634b992dc48e58abac01e7f69177">&#9670;&nbsp;</a></span>num_receive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t num_receive = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of current receive completions. </p>

<p class="definition">Definition at line <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html#l00043">43</a> of file <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html">dpa_initiator_target_kernels_dev.c</a>.</p>

</div>
</div>
<a id="afc0d191b88ebe3d05b3b21e52f2dff1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0d191b88ebe3d05b3b21e52f2dff1e">&#9670;&nbsp;</a></span>received_values</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t received_values[<a class="el" href="dpa__ping__pong__common__defs_8h.html#abb44cba65fd8e08a17167e19cc9f4b2a">EXPECTED_NUM_RECEIVES</a>] = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array used to mark received data when completion is received. </p>
<p>Expected received data are 1, 2, 3, 4. When completion is received with data <code>i</code>, then received_values[i - 1] = 1. At the end, this array should be [1, 1, 1, 1] </p>

<p class="definition">Definition at line <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html#l00038">38</a> of file <a class="el" href="dpa__initiator__target__kernels__dev_8c_source.html">dpa_initiator_target_kernels_dev.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4c85611b7d1fbc03792decfa171a9595.html">samples</a></li><li class="navelem"><a class="el" href="dir_b393d5b5c4fd7ac55172e70c43b5dadd.html">doca_dpa</a></li><li class="navelem"><a class="el" href="dir_b9dc1a94ad7086f7306531a690c26cdc.html">dpa_initiator_target</a></li><li class="navelem"><a class="el" href="dir_373c118ad409667b6f7382d438cd671d.html">device</a></li><li class="navelem"><a class="el" href="dpa__initiator__target__kernels__dev_8c.html">dpa_initiator_target_kernels_dev.c</a></li>
    <li class="footer">Generated on Wed Aug 13 2025 09:23:37 for NVIDIA DOCA SDK by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
