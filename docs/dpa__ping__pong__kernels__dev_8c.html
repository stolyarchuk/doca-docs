<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NVIDIA DOCA SDK: samples/doca_dpa/dpa_ping_pong/device/dpa_ping_pong_kernels_dev.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<!-- Doxygen Awesome CSS -->
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
DoxygenAwesomeFragmentCopyButton.init()
DoxygenAwesomeParagraphLink.init()
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectname">NVIDIA DOCA SDK
  </td>
  <td id="projectbrief">Data Center on a Chip Framework Documentation</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dpa__ping__pong__kernels__dev_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dpa_ping_pong_kernels_dev.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="doca__dpa__dev_8h_source.html">doca_dpa_dev.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__dpa__dev__rdma_8h_source.html">doca_dpa_dev_rdma.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__dpa__dev__buf_8h_source.html">doca_dpa_dev_buf.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="dpa__ping__pong__common__defs_8h_source.html">../common/dpa_ping_pong_common_defs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dpa_ping_pong_kernels_dev.c:</div>
<div class="dyncontent">
<div class="center"><img src="dpa__ping__pong__kernels__dev_8c__incl.png" border="0" usemap="#asamples_2doca__dpa_2dpa__ping__pong_2device_2dpa__ping__pong__kernels__dev_8c" alt=""/></div>
<map name="asamples_2doca__dpa_2dpa__ping__pong_2device_2dpa__ping__pong__kernels__dev_8c" id="asamples_2doca__dpa_2dpa__ping__pong_2device_2dpa__ping__pong__kernels__dev_8c">
<area shape="rect" title=" " alt="" coords="682,5,873,61"/>
<area shape="rect" href="doca__dpa__dev_8h.html" title=" " alt="" coords="539,266,666,293"/>
<area shape="rect" href="doca__dpa__dev__rdma_8h.html" title=" " alt="" coords="473,109,641,136"/>
<area shape="rect" href="doca__dpa__dev__buf_8h.html" title=" " alt="" coords="615,184,769,211"/>
<area shape="rect" href="dpa__ping__pong__common__defs_8h.html" title=" " alt="" coords="771,259,943,300"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="822,423,893,449"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="372,497,447,524"/>
<area shape="rect" href="doca__compat_8h.html" title=" " alt="" coords="542,348,663,375"/>
<area shape="rect" href="____stddef__ptrdiff__t_8h.html" title=" " alt="" coords="5,572,152,599"/>
<area shape="rect" href="____stddef__size__t_8h.html" title=" " alt="" coords="177,572,311,599"/>
<area shape="rect" href="____stddef__wchar__t_8h.html" title=" " alt="" coords="336,572,483,599"/>
<area shape="rect" href="____stddef__null_8h.html" title=" " alt="" coords="507,572,627,599"/>
<area shape="rect" href="____stddef__offsetof_8h.html" title=" " alt="" coords="651,572,797,599"/>
<area shape="rect" href="doca__config_8h.html" title=" " alt="" coords="687,423,798,449"/>
<area shape="rect" title=" " alt="" coords="254,423,325,449"/>
<area shape="rect" title=" " alt="" coords="349,423,419,449"/>
<area shape="rect" title=" " alt="" coords="444,423,519,449"/>
<area shape="rect" href="doca__version_8h.html" title=" " alt="" coords="543,423,663,449"/>
<area shape="rect" href="doca__build__config_8h.html" title=" " alt="" coords="667,497,818,524"/>
<area shape="rect" href="doca__dpa__dev__sync__event_8h.html" title=" " alt="" coords="383,184,591,211"/>
</map>
</div>
</div>
<p><a href="dpa__ping__pong__kernels__dev_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad17c0323d0f6ee4457d51095286828fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpa__ping__pong__common__defs_8h.html#acc9b62ff5f002a2ade2d0ae770aefb68">__dpa_global__</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpa__ping__pong__kernels__dev_8c.html#ad17c0323d0f6ee4457d51095286828fd">thread_kernel</a> (uint64_t arg)</td></tr>
<tr class="memdesc:ad17c0323d0f6ee4457d51095286828fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kernel function of DPA thread.  <a href="dpa__ping__pong__kernels__dev_8c.html#ad17c0323d0f6ee4457d51095286828fd">More...</a><br /></td></tr>
<tr class="separator:ad17c0323d0f6ee4457d51095286828fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4271176d12e2f91efbae6b18f5576c"><td class="memItemLeft" align="right" valign="top">__dpa_rpc__ uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpa__ping__pong__kernels__dev_8c.html#a7f4271176d12e2f91efbae6b18f5576c">trigger_first_iteration_rpc</a> (<a class="el" href="group__DOCA__DPA__HOST.html#ga2c343a3f308def43eff7b2ad1bda9828">doca_dpa_dev_t</a> rdma_dpa_ctx_handle, struct <a class="el" href="structdpa__thread__arg.html">dpa_thread_arg</a> ping_thread_arg, struct <a class="el" href="structdpa__thread__arg.html">dpa_thread_arg</a> pong_thread_arg)</td></tr>
<tr class="memdesc:a7f4271176d12e2f91efbae6b18f5576c"><td class="mdescLeft">&#160;</td><td class="mdescRight">RPC function to trigger first ping pong send/receive iteration.  <a href="dpa__ping__pong__kernels__dev_8c.html#a7f4271176d12e2f91efbae6b18f5576c">More...</a><br /></td></tr>
<tr class="separator:a7f4271176d12e2f91efbae6b18f5576c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad17c0323d0f6ee4457d51095286828fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17c0323d0f6ee4457d51095286828fd">&#9670;&nbsp;</a></span>thread_kernel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpa__ping__pong__common__defs_8h.html#acc9b62ff5f002a2ade2d0ae770aefb68">__dpa_global__</a> void thread_kernel </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kernel function of DPA thread. </p>
<p>This app has 2 DPA Threads (called ping and pong threads), posting send/receive RDMA operations. Both DPA Threads post send RDMA operations with buffer of values in [0-EXPECTED_NUM_RECEIVES) When a completion is received with data <code>i</code>, then a local array is updated with received_values[i] = 1. At the end both arrays should be [1, 1, ..., 1].</p>
<ul>
<li>[in]: Kernel argument </li>
</ul>

<p class="definition">Definition at line <a class="el" href="dpa__ping__pong__kernels__dev_8c_source.html#l00042">42</a> of file <a class="el" href="dpa__ping__pong__kernels__dev_8c_source.html">dpa_ping_pong_kernels_dev.c</a>.</p>

</div>
</div>
<a id="a7f4271176d12e2f91efbae6b18f5576c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f4271176d12e2f91efbae6b18f5576c">&#9670;&nbsp;</a></span>trigger_first_iteration_rpc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__dpa_rpc__ uint64_t trigger_first_iteration_rpc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__DOCA__DPA__HOST.html#ga2c343a3f308def43eff7b2ad1bda9828">doca_dpa_dev_t</a>&#160;</td>
          <td class="paramname"><em>rdma_dpa_ctx_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdpa__thread__arg.html">dpa_thread_arg</a>&#160;</td>
          <td class="paramname"><em>ping_thread_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdpa__thread__arg.html">dpa_thread_arg</a>&#160;</td>
          <td class="paramname"><em>pong_thread_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RPC function to trigger first ping pong send/receive iteration. </p>
<p>First ping pong send/receive iteration is done using this RPC. After this iteration all remaining send/receive iterations are done within the DPA Thread kernel. On the first iteration the two threads post receive operation on the expected receive addresses. To trigger the first completion the ping thread posts a send operation as well.</p>
<p>@rdma_dpa_ctx_handle [in]: DPA context handle used for RDMA DOCA device. Needed when running from DPU @ping_thread_arg [in]: Ping thread argument which includes all needed info for RDMA post send/receive @pong_thread_arg [in]: Pong thread argument which includes all needed info for RDMA post receive </p><dl class="section return"><dt>Returns</dt><dd>: RPC function always succeed and returns 0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="dpa__ping__pong__kernels__dev_8c_source.html#l00130">130</a> of file <a class="el" href="dpa__ping__pong__kernels__dev_8c_source.html">dpa_ping_pong_kernels_dev.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4c85611b7d1fbc03792decfa171a9595.html">samples</a></li><li class="navelem"><a class="el" href="dir_b393d5b5c4fd7ac55172e70c43b5dadd.html">doca_dpa</a></li><li class="navelem"><a class="el" href="dir_ab25465a1d93daf2bbd1188ccff936d1.html">dpa_ping_pong</a></li><li class="navelem"><a class="el" href="dir_61db8eca16defdecaa8136505605e5e1.html">device</a></li><li class="navelem"><a class="el" href="dpa__ping__pong__kernels__dev_8c.html">dpa_ping_pong_kernels_dev.c</a></li>
    <li class="footer">Generated on Wed Aug 13 2025 08:00:17 for NVIDIA DOCA SDK by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
