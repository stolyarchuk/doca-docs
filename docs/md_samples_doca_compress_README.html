<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NVIDIA DOCA SDK: DOCA Compress Samples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<!-- Doxygen Awesome CSS -->
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
DoxygenAwesomeFragmentCopyButton.init()
DoxygenAwesomeParagraphLink.init()
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectname">NVIDIA DOCA SDK
  </td>
  <td id="projectbrief">Data Center on a Chip Framework Documentation</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_samples_doca_compress_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">DOCA Compress Samples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following samples illustrate how to use the DOCA Compress API to compress and decompress files.</p>
<blockquote class="doxtable">
<p><b>Note:</b> <br  />
 DOCA Compress handles payload only unless the <code>zc</code> flag is used (available only for deflate samples). In that case, a zlib header and trailer are added in compression, and it is considered part of the input when decompressing. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md55"></a>
Info</h2>
<p>All the DOCA samples described in this section are governed under the BSD-3 software license agreement.</p>
<h1><a class="anchor" id="autotoc_md56"></a>
Running the Sample</h1>
<ol type="1">
<li>Refer to the following documents:</li>
</ol>
<ul>
<li><b><a href="https://docs.nvidia.com/doca/archive/2-9-0/NVIDIA+DOCA+Installation+Guide+for+Linux">NVIDIA DOCA Installation Guide for Linux</a></b> for details on how to install BlueField-related software.</li>
<li><b><a href="https://docs.nvidia.com/doca/archive/2-9-0/NVIDIA+DOCA+Troubleshooting">NVIDIA DOCA Troubleshooting</a></b> for any issue you may encounter with the installation, compilation, or execution of DOCA samples.</li>
</ul>
<ol type="1">
<li>To build a given sample:</li>
</ol>
<div class="fragment"><div class="line">cd &lt;sample_name&gt;</div>
<div class="line">meson /tmp/build</div>
<div class="line">ninja -C /tmp/build</div>
</div><!-- fragment --><blockquote class="doxtable">
<p><b>Note:</b> <br  />
 The binary <code>doca_&lt;sample_name&gt;</code> is created under <code>/tmp/build/</code>. </p>
</blockquote>
<ol type="1">
<li>Sample Usage (e.g., <code>doca_compress_deflate</code>):</li>
</ol>
<ul>
<li><b>Common Arguments:</b></li>
</ul>
<div class="fragment"><div class="line">Usage: doca_&lt;sample_name&gt; [DOCA Flags] [Program Flags]</div>
<div class="line"> </div>
<div class="line">DOCA Flags:</div>
<div class="line">  -h, --help                        Print a help synopsis</div>
<div class="line">  -v, --version                     Print program version information</div>
<div class="line">  -l, --log-level                   Set the (numeric) log level for the program &lt;10=DISABLE, 20=CRITICAL, 30=ERROR, 40=WARNING, 50=INFO, 60=DEBUG, 70=TRACE&gt;</div>
<div class="line">  --sdk-log-level                   Set the SDK (numeric) log level for the program &lt;10=DISABLE, 20=CRITICAL, 30=ERROR, 40=WARNING, 50=INFO, 60=DEBUG, 70=TRACE&gt;</div>
<div class="line">  -j, --json &lt;path&gt;                 Parse all command flags from an input JSON file</div>
<div class="line"> </div>
<div class="line">Program Flags:</div>
<div class="line">  -p, --pci-addr                    DOCA device PCI device address</div>
<div class="line">  -f, --file                        Input file to compress/decompress</div>
<div class="line">  -o, --output                      Output file</div>
<div class="line">  -c, --output-checksum             Output checksum</div>
</div><!-- fragment --><ul>
<li><b>Sample-Specific Arguments:</b></li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Sample</b>   </th><th class="markdownTableHeadNone"><b>Argument</b>   </th><th class="markdownTableHeadNone"><b>Description</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Compress/Decompress Deflate</b>   </td><td class="markdownTableBodyNone"><code>-wf, --with-frame</code>   </td><td class="markdownTableBodyNone">Write/read a file with a frame, compatible with default zlib settings    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Decompress LZ4 Stream</b>   </td><td class="markdownTableBodyNone"><code>-bc, --has-block-checksum</code>   </td><td class="markdownTableBodyNone">Flag to indicate if blocks have a checksum    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>-bi, --are-blocks-independent</code>   </td><td class="markdownTableBodyNone">Flag to indicate if blocks are independent    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>-wf, --with-frame</code>   </td><td class="markdownTableBodyNone">Read a file compatible with an LZ4 frame   </td></tr>
</table>
<ol type="1">
<li>For additional information per sample, use the <code>-h</code> option: <div class="fragment"><div class="line">/tmp/build/doca_&lt;sample_name&gt; -h</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="autotoc_md57"></a>
Samples</h1>
<h2><a class="anchor" id="autotoc_md58"></a>
Compress/Decompress Deflate</h2>
<p>This sample illustrates how to use DOCA Compress library to compress or decompress a file.</p>
<h3><a class="anchor" id="autotoc_md59"></a>
Sample Logic:</h3>
<ul>
<li>Locate a DOCA device.</li>
<li>Initialize the required DOCA Core structures.</li>
<li>Populate DOCA memory map with two relevant buffers: one for the source data and one for the result.</li>
<li>Allocate elements in DOCA buffer inventory for each buffer.</li>
<li>Allocate and initialize a DOCA Compress deflate task or a DOCA Decompress deflate task.</li>
<li>Submit the task.</li>
<li>Run the progress engine until the task is completed.</li>
<li>Write the result into an output file (<code>out.txt</code>).</li>
<li>Destroy all DOCA Compress and DOCA Core structures.</li>
</ul>
<p><b>References:</b></p>
<ul>
<li><code><a class="el" href="compress__deflate__sample_8c.html">compress_deflate/compress_deflate_sample.c</a></code></li>
<li><code><a class="el" href="compress__deflate__main_8c.html">compress_deflate/compress_deflate_main.c</a></code></li>
<li><code>compress_deflate/meson.build</code></li>
<li><code><a class="el" href="decompress__deflate__sample_8c.html">decompress_deflate/decompress_deflate_sample.c</a></code></li>
<li><code><a class="el" href="decompress__deflate__main_8c.html">decompress_deflate/decompress_deflate_main.c</a></code></li>
<li><code>decompress_deflate/meson.build</code></li>
<li><code><a class="el" href="compress__common_8h.html">compress_common.h</a></code></li>
<li><code><a class="el" href="compress__common_8c.html">compress_common.c</a></code></li>
</ul>
<h2><a class="anchor" id="autotoc_md60"></a>
Decompress LZ4 Stream</h2>
<p>This sample illustrates how to use DOCA Compress library to decompress a file using the LZ4 stream decompress task.</p>
<h3><a class="anchor" id="autotoc_md61"></a>
Sample Logic:</h3>
<ul>
<li>Locate a DOCA device.</li>
<li>Initialize the required DOCA Core structures.</li>
<li>Populate DOCA memory map with two relevant buffers: one for the source data and one for the result.</li>
<li>Allocate elements in DOCA buffer inventory for each buffer.</li>
<li>Allocate and initialize a DOCA Decompress LZ4 stream task.</li>
<li>Submit the task.</li>
<li>Run the progress engine until the task is completed.</li>
<li>Write the result into an output file (<code>out.txt</code>).</li>
<li>Destroy all DOCA Compress and DOCA Core structures.</li>
</ul>
<p><b>References:</b></p>
<ul>
<li><code><a class="el" href="decompress__lz4__stream__sample_8c.html">decompress_lz4_stream/decompress_lz4_stream_sample.c</a></code></li>
<li><code><a class="el" href="decompress__lz4__stream__main_8c.html">decompress_lz4_stream/decompress_lz4_stream_main.c</a></code></li>
<li><code>decompress_lz4_stream/meson.build</code></li>
<li><code><a class="el" href="compress__common_8h.html">compress_common.h</a></code></li>
<li><code><a class="el" href="compress__common_8c.html">compress_common.c</a></code></li>
</ul>
<h2><a class="anchor" id="autotoc_md62"></a>
Backward Compatibility</h2>
<h3><a class="anchor" id="autotoc_md63"></a>
Decompress LZ4 Task</h3>
<p>The <b>decompress LZ4 task</b> has been removed. To facilitate decompressing memory with the LZ4 algorithm, use the decompress LZ4 stream task or the decompress LZ4 block task instead. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Aug 13 2025 08:00:17 for NVIDIA DOCA SDK by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
