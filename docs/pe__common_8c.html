<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NVIDIA DOCA SDK: samples/doca_common/pe_common.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<!-- Doxygen Awesome CSS -->
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
DoxygenAwesomeFragmentCopyButton.init()
DoxygenAwesomeParagraphLink.init()
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectname">NVIDIA DOCA SDK
  </td>
  <td id="projectbrief">Data Center on a Chip Framework Documentation</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pe__common_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pe_common.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__log_8h_source.html">doca_log.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__mmap_8h_source.html">doca_mmap.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__buf_8h_source.html">doca_buf.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__buf__inventory_8h_source.html">doca_buf_inventory.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__ctx_8h_source.html">doca_ctx.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__types_8h_source.html">doca_types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__dma_8h_source.html">doca_dma.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__pe_8h_source.html">doca_pe.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="samples_2common_8h_source.html">samples/common.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="pe__common_8h_source.html">pe_common.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pe_common.c:</div>
<div class="dyncontent">
<div class="center"><img src="pe__common_8c__incl.png" border="0" usemap="#asamples_2doca__common_2pe__common_8c" alt=""/></div>
<map name="asamples_2doca__common_2pe__common_8c" id="asamples_2doca__common_2pe__common_8c">
<area shape="rect" title=" " alt="" coords="737,5,913,47"/>
<area shape="rect" title=" " alt="" coords="347,95,421,121"/>
<area shape="rect" title=" " alt="" coords="445,95,509,121"/>
<area shape="rect" href="doca__log_8h.html" title=" " alt="" coords="149,169,241,196"/>
<area shape="rect" href="doca__mmap_8h.html" title=" " alt="" coords="411,169,525,196"/>
<area shape="rect" href="doca__types_8h.html" title=" " alt="" coords="986,244,1094,271"/>
<area shape="rect" href="doca__buf_8h.html" title=" " alt="" coords="294,169,386,196"/>
<area shape="rect" href="doca__buf__inventory_8h.html" title=" " alt="" coords="827,169,987,196"/>
<area shape="rect" href="doca__ctx_8h.html" title=" " alt="" coords="1011,169,1103,196"/>
<area shape="rect" href="doca__dma_8h.html" title=" " alt="" coords="1128,169,1229,196"/>
<area shape="rect" href="doca__pe_8h.html" title=" " alt="" coords="1304,169,1392,196"/>
<area shape="rect" href="samples_2common_8h.html" title=" " alt="" coords="686,95,837,121"/>
<area shape="rect" href="pe__common_8h.html" title=" " alt="" coords="1000,95,1115,121"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="372,468,447,495"/>
<area shape="rect" title=" " alt="" coords="57,244,124,271"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="774,393,845,420"/>
<area shape="rect" href="doca__compat_8h.html" title=" " alt="" coords="378,319,499,345"/>
<area shape="rect" href="doca__error_8h.html" title=" " alt="" coords="605,244,707,271"/>
<area shape="rect" href="____stddef__ptrdiff__t_8h.html" title=" " alt="" coords="5,543,152,569"/>
<area shape="rect" href="____stddef__size__t_8h.html" title=" " alt="" coords="177,543,311,569"/>
<area shape="rect" href="____stddef__wchar__t_8h.html" title=" " alt="" coords="336,543,483,569"/>
<area shape="rect" href="____stddef__null_8h.html" title=" " alt="" coords="507,543,627,569"/>
<area shape="rect" href="____stddef__offsetof_8h.html" title=" " alt="" coords="651,543,797,569"/>
<area shape="rect" href="doca__config_8h.html" title=" " alt="" coords="639,393,750,420"/>
<area shape="rect" title=" " alt="" coords="301,393,371,420"/>
<area shape="rect" title=" " alt="" coords="1290,393,1361,420"/>
<area shape="rect" title=" " alt="" coords="396,393,471,420"/>
<area shape="rect" href="doca__version_8h.html" title=" " alt="" coords="495,393,615,420"/>
<area shape="rect" href="doca__build__config_8h.html" title=" " alt="" coords="619,468,770,495"/>
<area shape="rect" href="doca__common__defines_8h.html" title=" " alt="" coords="575,319,758,345"/>
<area shape="rect" title=" " alt="" coords="1221,244,1307,271"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="720,169,803,196"/>
<area shape="rect" href="doca__dev_8h.html" title=" " alt="" coords="601,169,695,196"/>
</map>
</div>
</div>
<p><a href="pe__common_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a14c7532efdedf5ba5ede13d180944218"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a14c7532efdedf5ba5ede13d180944218">EXIT_ON_FAILURE</a>(_expression_)</td></tr>
<tr class="separator:a14c7532efdedf5ba5ede13d180944218"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9dedd6b2a40ace1ce5fb85b8bd486dc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a9dedd6b2a40ace1ce5fb85b8bd486dc6">DOCA_LOG_REGISTER</a> (PE::COMMON)</td></tr>
<tr class="separator:a9dedd6b2a40ace1ce5fb85b8bd486dc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7fb3a07232d9973f0cf923831ad72f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#aef7fb3a07232d9973f0cf923831ad72f">process_completed_dma_memcpy_task</a> (struct doca_dma_task_memcpy *dma_task, uint8_t expected_value)</td></tr>
<tr class="separator:aef7fb3a07232d9973f0cf923831ad72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbd5507aa5ff79ef91e7e81d0cc5023"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a7fbd5507aa5ff79ef91e7e81d0cc5023">free_dma_memcpy_task_buffers</a> (struct doca_dma_task_memcpy *dma_task)</td></tr>
<tr class="separator:a7fbd5507aa5ff79ef91e7e81d0cc5023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d65edfe53d1f75ab587180320be1481"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a3d65edfe53d1f75ab587180320be1481">dma_task_free</a> (struct doca_dma_task_memcpy *dma_task)</td></tr>
<tr class="separator:a3d65edfe53d1f75ab587180320be1481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b106e252fff85210070abb0cdda46c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a13b106e252fff85210070abb0cdda46c">allocate_buffer</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state)</td></tr>
<tr class="separator:a13b106e252fff85210070abb0cdda46c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8921645887ca1e0bf66bea9c37322c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#ac8921645887ca1e0bf66bea9c37322c7">allocate_dma_tasks</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state, struct doca_dma *dma, uint32_t num_tasks, <a class="el" href="____stddef__size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> dma_buffer_size, struct doca_dma_task_memcpy **tasks)</td></tr>
<tr class="separator:ac8921645887ca1e0bf66bea9c37322c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae72c2faa45910f5f0b5ecf2e2649e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a8ae72c2faa45910f5f0b5ecf2e2649e4">submit_dma_tasks</a> (uint32_t num_tasks, struct doca_dma_task_memcpy **tasks)</td></tr>
<tr class="separator:a8ae72c2faa45910f5f0b5ecf2e2649e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae841596a2f22f8b02ee74c3e258b3c56"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#ae841596a2f22f8b02ee74c3e258b3c56">check_dev_dma_capable</a> (struct doca_devinfo *devinfo)</td></tr>
<tr class="separator:ae841596a2f22f8b02ee74c3e258b3c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87bfbd07712d4bfc45682f653a38755"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#ab87bfbd07712d4bfc45682f653a38755">open_device</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state)</td></tr>
<tr class="separator:ab87bfbd07712d4bfc45682f653a38755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab464eea643e6739bca8d3280608d7699"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#ab464eea643e6739bca8d3280608d7699">create_pe</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state)</td></tr>
<tr class="separator:ab464eea643e6739bca8d3280608d7699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa843556b3e7620e5d5dd87e34e93f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a5fa843556b3e7620e5d5dd87e34e93f6">create_mmap</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state)</td></tr>
<tr class="separator:a5fa843556b3e7620e5d5dd87e34e93f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fabfe664d84c33daa6c7bf4e148257c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a1fabfe664d84c33daa6c7bf4e148257c">create_buf_inventory</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state)</td></tr>
<tr class="separator:a1fabfe664d84c33daa6c7bf4e148257c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d63d1e0a86dc2fd1caffe29f4ddb163"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#a0d63d1e0a86dc2fd1caffe29f4ddb163">pe_sample_base_cleanup</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state)</td></tr>
<tr class="separator:a0d63d1e0a86dc2fd1caffe29f4ddb163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0936068345a596162e55f25b26bc4af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__common_8c.html#aa0936068345a596162e55f25b26bc4af">poll_for_completion</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state, uint32_t num_tasks)</td></tr>
<tr class="separator:aa0936068345a596162e55f25b26bc4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a14c7532efdedf5ba5ede13d180944218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14c7532efdedf5ba5ede13d180944218">&#9670;&nbsp;</a></span>EXIT_ON_FAILURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXIT_ON_FAILURE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_expression_</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { \</div>
<div class="line">        doca_error_t _status_ = _expression_; <a class="code" href="dpaintrin_8h.html#a5fd782288750c2672632ab0808033578">\</a></div>
<div class="line"><a class="code" href="dpaintrin_8h.html#a5fd782288750c2672632ab0808033578">\</a></div>
<div class="line"><a class="code" href="dpaintrin_8h.html#a5fd782288750c2672632ab0808033578">		if</a> (_status_ != <a class="code" href="group__DOCA__ERROR.html#ggab6eb49658cb99f7c7f960ee9cd47ad6aa9ce2c04e18d04ac2e447571b33def6d7">DOCA_SUCCESS</a>) { \</div>
<div class="line">            DOCA_LOG_ERR(<span class="stringliteral">&quot;%s failed with status %s&quot;</span>, __func__, <a class="code" href="group__DOCA__ERROR.html#gafb7cd9164e4e08c6dd99942c2d1a65fd">doca_error_get_descr</a>(_status_)); \</div>
<div class="line">            return _status_; \</div>
<div class="line">        } \</div>
<div class="line">    }</div>
<div class="ttc" id="adpaintrin_8h_html_a5fd782288750c2672632ab0808033578"><div class="ttname"><a href="dpaintrin_8h.html#a5fd782288750c2672632ab0808033578">if</a></div><div class="ttdeci">if(bitoffset % 64+bitlength &gt; 64) result|</div></div>
<div class="ttc" id="agroup__DOCA__ERROR_html_gafb7cd9164e4e08c6dd99942c2d1a65fd"><div class="ttname"><a href="group__DOCA__ERROR.html#gafb7cd9164e4e08c6dd99942c2d1a65fd">doca_error_get_descr</a></div><div class="ttdeci">DOCA_STABLE const char * doca_error_get_descr(doca_error_t error)</div><div class="ttdoc">Returns the description string of an error code.</div></div>
<div class="ttc" id="agroup__DOCA__ERROR_html_ggab6eb49658cb99f7c7f960ee9cd47ad6aa9ce2c04e18d04ac2e447571b33def6d7"><div class="ttname"><a href="group__DOCA__ERROR.html#ggab6eb49658cb99f7c7f960ee9cd47ad6aa9ce2c04e18d04ac2e447571b33def6d7">DOCA_SUCCESS</a></div><div class="ttdeci">@ DOCA_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="doca__error_8h_source.html#l00038">doca_error.h:38</a></div></div>
</div><!-- fragment --><p>This macro is used to minimize code size. The macro runs an expression and returns error if the expression status is not DOCA_SUCCESS </p>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00047">47</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a13b106e252fff85210070abb0cdda46c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b106e252fff85210070abb0cdda46c">&#9670;&nbsp;</a></span>allocate_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> allocate_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a buffer that will be used for the source and destination buffers.</p>
<p>@state [in]: sample state </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00131">131</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="ac8921645887ca1e0bf66bea9c37322c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8921645887ca1e0bf66bea9c37322c7">&#9670;&nbsp;</a></span>allocate_dma_tasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> allocate_dma_tasks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct doca_dma *&#160;</td>
          <td class="paramname"><em>dma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_tasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="____stddef__size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>dma_buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct doca_dma_task_memcpy **&#160;</td>
          <td class="paramname"><em>tasks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method allocate the DMA tasks but does not submit them. This is a sample choice. A task can be submitted immediately after it is allocated.</p>
<p>@state [in]: sample state @dma [in] DMA context to allocate the tasks from. @num_tasks [in]: Number of tasks per group @dma_buffer_size [in]: Size of DMA buffer @tasks [in]: tasks to allocate </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>
<p>Using doca_buf_inventory_buf_get_by_addr leaves the buffer head uninitialized. The DMA context will set the head and length at the task completion.</p>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00155">155</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="ae841596a2f22f8b02ee74c3e258b3c56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae841596a2f22f8b02ee74c3e258b3c56">&#9670;&nbsp;</a></span>check_dev_dma_capable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> check_dev_dma_capable </td>
          <td>(</td>
          <td class="paramtype">struct doca_devinfo *&#160;</td>
          <td class="paramname"><em>devinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00229">229</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="a1fabfe664d84c33daa6c7bf4e148257c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fabfe664d84c33daa6c7bf4e148257c">&#9670;&nbsp;</a></span>create_buf_inventory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> create_buf_inventory </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create buffer inventory, initialize and start it.</p>
<p>@state [in]: sample state </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00294">294</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="a5fa843556b3e7620e5d5dd87e34e93f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fa843556b3e7620e5d5dd87e34e93f6">&#9670;&nbsp;</a></span>create_mmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> create_mmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create MMAP, initialize and start it.</p>
<p>@state [in]: sample state </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00275">275</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="ab464eea643e6739bca8d3280608d7699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab464eea643e6739bca8d3280608d7699">&#9670;&nbsp;</a></span>create_pe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> create_pe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a progress engine</p>
<p>@state [in]: sample state </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00260">260</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="a3d65edfe53d1f75ab587180320be1481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d65edfe53d1f75ab587180320be1481">&#9670;&nbsp;</a></span>dma_task_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> dma_task_free </td>
          <td>(</td>
          <td class="paramtype">struct doca_dma_task_memcpy *&#160;</td>
          <td class="paramname"><em>dma_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A DOCA task should be freed once it is no longer used. It can be freed during a completion or error callback, during the progress one loop (e.g. if the program stores it in the state), at the end of the program, etc., as long as it is not required anymore. The sample also releases the buffers during this call, but only for simplicity. Buffers don't have to be released when a task is released.</p>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00108">108</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="a9dedd6b2a40ace1ce5fb85b8bd486dc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dedd6b2a40ace1ce5fb85b8bd486dc6">&#9670;&nbsp;</a></span>DOCA_LOG_REGISTER()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DOCA_LOG_REGISTER </td>
          <td>(</td>
          <td class="paramtype">PE::COMMON&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7fbd5507aa5ff79ef91e7e81d0cc5023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fbd5507aa5ff79ef91e7e81d0cc5023">&#9670;&nbsp;</a></span>free_dma_memcpy_task_buffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> free_dma_memcpy_task_buffers </td>
          <td>(</td>
          <td class="paramtype">struct doca_dma_task_memcpy *&#160;</td>
          <td class="paramname"><em>dma_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removing the const is fine in this case because the sample owns the buffer and the task is about to be freed. However, in other cases this action may not be valid.</p>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00093">93</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="ab87bfbd07712d4bfc45682f653a38755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab87bfbd07712d4bfc45682f653a38755">&#9670;&nbsp;</a></span>open_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> open_device </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens a device that supports SHA and DMA</p>
<p>@state [in]: sample state </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00245">245</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="a0d63d1e0a86dc2fd1caffe29f4ddb163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d63d1e0a86dc2fd1caffe29f4ddb163">&#9670;&nbsp;</a></span>pe_sample_base_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pe_sample_base_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method cleans up the sample resources in reverse order of their creation. This method does not check for destroy return values for simplify. Real code should check the return value and act accordingly (e.g. if doca_ctx_stop failed with DOCA_ERROR_IN_PROGRESS it means that some contexts are still added or even that there are still in flight tasks in the progress engine). @state [in]: sample state </p>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00311">311</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="aa0936068345a596162e55f25b26bc4af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0936068345a596162e55f25b26bc4af">&#9670;&nbsp;</a></span>poll_for_completion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> poll_for_completion </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_tasks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Poll the PE until all tasks are completed.</p>
<p>@state [in]: sample state @num_tasks [in] number of expected tasks </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>
<p>doca_pe_progress shall return 1 if a task was completed and 0 if not. In this case the sample does not have anything to do with the return value because it is a polling sample.</p>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00340">340</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="aef7fb3a07232d9973f0cf923831ad72f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7fb3a07232d9973f0cf923831ad72f">&#9670;&nbsp;</a></span>process_completed_dma_memcpy_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> process_completed_dma_memcpy_task </td>
          <td>(</td>
          <td class="paramtype">struct doca_dma_task_memcpy *&#160;</td>
          <td class="paramname"><em>dma_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>expected_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00066">66</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
<a id="a8ae72c2faa45910f5f0b5ecf2e2649e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae72c2faa45910f5f0b5ecf2e2649e4">&#9670;&nbsp;</a></span>submit_dma_tasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> submit_dma_tasks </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_tasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct doca_dma_task_memcpy **&#160;</td>
          <td class="paramname"><em>tasks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method submits all the tasks (</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="pe__common_8c.html#ac8921645887ca1e0bf66bea9c37322c7">allocate_dma_tasks</a>).</dd></dl>
<p>@num_tasks [in]: Number of tasks per group @dma_buffer_size [in]: Size of DMA buffer @tasks [in]: tasks to submit</p>
<dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__common_8c_source.html#l00211">211</a> of file <a class="el" href="pe__common_8c_source.html">pe_common.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4c85611b7d1fbc03792decfa171a9595.html">samples</a></li><li class="navelem"><a class="el" href="dir_1311347775fff2a1d19aee140411e175.html">doca_common</a></li><li class="navelem"><a class="el" href="pe__common_8c.html">pe_common.c</a></li>
    <li class="footer">Generated on Wed Aug 13 2025 08:00:17 for NVIDIA DOCA SDK by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
