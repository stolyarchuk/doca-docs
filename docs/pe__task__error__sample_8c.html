<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NVIDIA DOCA SDK: samples/doca_common/pe_task_error/pe_task_error_sample.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<!-- Doxygen Awesome CSS -->
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
DoxygenAwesomeFragmentCopyButton.init()
DoxygenAwesomeParagraphLink.init()
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectname">NVIDIA DOCA SDK
  </td>
  <td id="projectbrief">Data Center on a Chip Framework Documentation</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pe__task__error__sample_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pe_task_error_sample.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="stdbool_8h_source.html">stdbool.h</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="stdint_8h_source.html">stdint.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__mmap_8h_source.html">doca_mmap.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__buf_8h_source.html">doca_buf.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__buf__inventory_8h_source.html">doca_buf_inventory.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__ctx_8h_source.html">doca_ctx.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__dma_8h_source.html">doca_dma.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__types_8h_source.html">doca_types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__log_8h_source.html">doca_log.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="doca__pe_8h_source.html">doca_pe.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="samples_2common_8h_source.html">samples/common.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="pe__common_8h_source.html">pe_common.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pe_task_error_sample.c:</div>
<div class="dyncontent">
<div class="center"><img src="pe__task__error__sample_8c__incl.png" border="0" usemap="#asamples_2doca__common_2pe__task__error_2pe__task__error__sample_8c" alt=""/></div>
<map name="asamples_2doca__common_2pe__task__error_2pe__task__error__sample_8c" id="asamples_2doca__common_2pe__task__error_2pe__task__error__sample_8c">
<area shape="rect" title=" " alt="" coords="504,5,680,61"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="448,184,530,211"/>
<area shape="rect" title=" " alt="" coords="44,259,110,285"/>
<area shape="rect" title=" " alt="" coords="1448,408,1519,435"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="615,408,686,435"/>
<area shape="rect" href="doca__mmap_8h.html" title=" " alt="" coords="554,184,669,211"/>
<area shape="rect" href="doca__types_8h.html" title=" " alt="" coords="540,259,648,285"/>
<area shape="rect" href="doca__buf_8h.html" title=" " alt="" coords="1174,184,1266,211"/>
<area shape="rect" href="doca__buf__inventory_8h.html" title=" " alt="" coords="989,184,1149,211"/>
<area shape="rect" href="doca__ctx_8h.html" title=" " alt="" coords="280,184,372,211"/>
<area shape="rect" href="doca__dma_8h.html" title=" " alt="" coords="864,184,965,211"/>
<area shape="rect" href="doca__log_8h.html" title=" " alt="" coords="164,184,256,211"/>
<area shape="rect" href="doca__pe_8h.html" title=" " alt="" coords="1314,184,1402,211"/>
<area shape="rect" href="samples_2common_8h.html" title=" " alt="" coords="722,109,872,136"/>
<area shape="rect" href="pe__common_8h.html" title=" " alt="" coords="582,109,697,136"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="514,483,589,509"/>
<area shape="rect" href="doca__compat_8h.html" title=" " alt="" coords="1068,333,1190,360"/>
<area shape="rect" href="doca__error_8h.html" title=" " alt="" coords="775,259,878,285"/>
<area shape="rect" href="____stddef__ptrdiff__t_8h.html" title=" " alt="" coords="148,557,294,584"/>
<area shape="rect" href="____stddef__size__t_8h.html" title=" " alt="" coords="319,557,454,584"/>
<area shape="rect" href="____stddef__wchar__t_8h.html" title=" " alt="" coords="478,557,625,584"/>
<area shape="rect" href="____stddef__null_8h.html" title=" " alt="" coords="649,557,769,584"/>
<area shape="rect" href="____stddef__offsetof_8h.html" title=" " alt="" coords="794,557,939,584"/>
<area shape="rect" href="doca__config_8h.html" title=" " alt="" coords="1132,408,1243,435"/>
<area shape="rect" title=" " alt="" coords="938,408,1008,435"/>
<area shape="rect" title=" " alt="" coords="1033,408,1108,435"/>
<area shape="rect" href="doca__version_8h.html" title=" " alt="" coords="793,408,913,435"/>
<area shape="rect" href="doca__build__config_8h.html" title=" " alt="" coords="1112,483,1263,509"/>
<area shape="rect" href="doca__common__defines_8h.html" title=" " alt="" coords="735,333,918,360"/>
<area shape="rect" title=" " alt="" coords="954,259,1040,285"/>
<area shape="rect" href="doca__dev_8h.html" title=" " alt="" coords="694,184,788,211"/>
</map>
</div>
</div>
<p><a href="pe__task__error__sample_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a14c7532efdedf5ba5ede13d180944218"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a14c7532efdedf5ba5ede13d180944218">EXIT_ON_FAILURE</a>(_expression_)</td></tr>
<tr class="separator:a14c7532efdedf5ba5ede13d180944218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e915ae0cd18328d97bb43f3869edc07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a9e915ae0cd18328d97bb43f3869edc07">NUM_TASKS</a>&#160;&#160;&#160;(255)</td></tr>
<tr class="separator:a9e915ae0cd18328d97bb43f3869edc07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58748de79395a1751fc333bbc7ebd6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#ac58748de79395a1751fc333bbc7ebd6b">DMA_BUFFER_SIZE</a>&#160;&#160;&#160;(1024)</td></tr>
<tr class="separator:ac58748de79395a1751fc333bbc7ebd6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b20d41d6252e9871430c242cb1a56e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>&#160;&#160;&#160;(<a class="el" href="pe__task__try__submit__sample_8c.html#ac58748de79395a1751fc333bbc7ebd6b">DMA_BUFFER_SIZE</a> * 2 * <a class="el" href="gpunetio__dma__memcpy__sample_8c.html#a9e915ae0cd18328d97bb43f3869edc07">NUM_TASKS</a>)</td></tr>
<tr class="separator:a6b20d41d6252e9871430c242cb1a56e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e0307561bff7c1a4efc80bd52d90ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a26e0307561bff7c1a4efc80bd52d90ed">BUF_INVENTORY_SIZE</a>&#160;&#160;&#160;(<a class="el" href="gpunetio__dma__memcpy__sample_8c.html#a9e915ae0cd18328d97bb43f3869edc07">NUM_TASKS</a> * 2)</td></tr>
<tr class="separator:a26e0307561bff7c1a4efc80bd52d90ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a066f7efd85f9bf0fea552edfef227081"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a066f7efd85f9bf0fea552edfef227081">DOCA_LOG_REGISTER</a> (PE_TASK_ERROR::SAMPLE)</td></tr>
<tr class="separator:a066f7efd85f9bf0fea552edfef227081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09c3f0b0676d1b0c61791c272453fc6"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#ad09c3f0b0676d1b0c61791c272453fc6">ctx_state_to_string</a> (enum <a class="el" href="group__DOCA__CTX.html#gac5f376dd297cb9e0bc85e6495a5d7843">doca_ctx_states</a> state)</td></tr>
<tr class="separator:ad09c3f0b0676d1b0c61791c272453fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44b5fe7a1a170c317cee4ba30822461"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#ad44b5fe7a1a170c317cee4ba30822461">dma_state_changed_cb</a> (const union <a class="el" href="uniondoca__data.html">doca_data</a> ctx_user_data, struct doca_ctx *<a class="el" href="upf__accel__flow__processing_8h.html#a8b3a0cb2be2fc166f6fa69afa523e3e4">ctx</a>, enum <a class="el" href="group__DOCA__CTX.html#gac5f376dd297cb9e0bc85e6495a5d7843">doca_ctx_states</a> prev_state, enum <a class="el" href="group__DOCA__CTX.html#gac5f376dd297cb9e0bc85e6495a5d7843">doca_ctx_states</a> next_state)</td></tr>
<tr class="separator:ad44b5fe7a1a170c317cee4ba30822461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ff91855d00dbffba3eb1244ebd2bbc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a96ff91855d00dbffba3eb1244ebd2bbc">dma_memcpy_completed_callback</a> (struct doca_dma_task_memcpy *dma_task, union <a class="el" href="uniondoca__data.html">doca_data</a> task_user_data, union <a class="el" href="uniondoca__data.html">doca_data</a> ctx_user_data)</td></tr>
<tr class="separator:a96ff91855d00dbffba3eb1244ebd2bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa366c10fa05393ac73e2a41eb9690b4c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#aa366c10fa05393ac73e2a41eb9690b4c">dma_memcpy_error_callback</a> (struct doca_dma_task_memcpy *dma_task, union <a class="el" href="uniondoca__data.html">doca_data</a> task_user_data, union <a class="el" href="uniondoca__data.html">doca_data</a> ctx_user_data)</td></tr>
<tr class="separator:aa366c10fa05393ac73e2a41eb9690b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6719d7bbb87c02f71fb1f2f10653f3e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#af6719d7bbb87c02f71fb1f2f10653f3e">create_dma</a> (struct <a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a> *state)</td></tr>
<tr class="separator:af6719d7bbb87c02f71fb1f2f10653f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427ac9ff917e55e9a56a4d1c4fd15dfb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a427ac9ff917e55e9a56a4d1c4fd15dfb">allocate_tasks</a> (struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *state, struct doca_dma *dma, uint32_t num_tasks, <a class="el" href="____stddef__size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> dma_buffer_size, struct doca_dma_task_memcpy **tasks)</td></tr>
<tr class="separator:a427ac9ff917e55e9a56a4d1c4fd15dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d545ec6e55ae79bf25b8aeec0601293"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a9d545ec6e55ae79bf25b8aeec0601293">poll_for_dma_stop</a> (struct <a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a> *state)</td></tr>
<tr class="separator:a9d545ec6e55ae79bf25b8aeec0601293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d249b58ab56d35977b8846c815c490"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a27d249b58ab56d35977b8846c815c490">cleanup</a> (struct <a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a> *state)</td></tr>
<tr class="separator:a27d249b58ab56d35977b8846c815c490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f33bd8e1289251781afa5196568413"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#a56f33bd8e1289251781afa5196568413">run</a> (struct <a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a> *state)</td></tr>
<tr class="separator:a56f33bd8e1289251781afa5196568413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea15e0288b6f5ae44562ae8ea7756d6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pe__task__error__sample_8c.html#aea15e0288b6f5ae44562ae8ea7756d6c">run_pe_task_error_sample</a> (void)</td></tr>
<tr class="separator:aea15e0288b6f5ae44562ae8ea7756d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a26e0307561bff7c1a4efc80bd52d90ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26e0307561bff7c1a4efc80bd52d90ed">&#9670;&nbsp;</a></span>BUF_INVENTORY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_INVENTORY_SIZE&#160;&#160;&#160;(<a class="el" href="gpunetio__dma__memcpy__sample_8c.html#a9e915ae0cd18328d97bb43f3869edc07">NUM_TASKS</a> * 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00071">71</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="a6b20d41d6252e9871430c242cb1a56e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b20d41d6252e9871430c242cb1a56e7">&#9670;&nbsp;</a></span>BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_SIZE&#160;&#160;&#160;(<a class="el" href="pe__task__try__submit__sample_8c.html#ac58748de79395a1751fc333bbc7ebd6b">DMA_BUFFER_SIZE</a> * 2 * <a class="el" href="gpunetio__dma__memcpy__sample_8c.html#a9e915ae0cd18328d97bb43f3869edc07">NUM_TASKS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00070">70</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="ac58748de79395a1751fc333bbc7ebd6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac58748de79395a1751fc333bbc7ebd6b">&#9670;&nbsp;</a></span>DMA_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMA_BUFFER_SIZE&#160;&#160;&#160;(1024)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00069">69</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="a14c7532efdedf5ba5ede13d180944218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14c7532efdedf5ba5ede13d180944218">&#9670;&nbsp;</a></span>EXIT_ON_FAILURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXIT_ON_FAILURE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_expression_</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { \</div>
<div class="line">        doca_error_t _status_ = _expression_; <a class="code" href="dpaintrin_8h.html#a5fd782288750c2672632ab0808033578">\</a></div>
<div class="line"><a class="code" href="dpaintrin_8h.html#a5fd782288750c2672632ab0808033578">\</a></div>
<div class="line"><a class="code" href="dpaintrin_8h.html#a5fd782288750c2672632ab0808033578">		if</a> (_status_ != <a class="code" href="group__DOCA__ERROR.html#ggab6eb49658cb99f7c7f960ee9cd47ad6aa9ce2c04e18d04ac2e447571b33def6d7">DOCA_SUCCESS</a>) { \</div>
<div class="line">            DOCA_LOG_ERR(<span class="stringliteral">&quot;%s failed with status %s&quot;</span>, __func__, <a class="code" href="group__DOCA__ERROR.html#gafb7cd9164e4e08c6dd99942c2d1a65fd">doca_error_get_descr</a>(_status_)); \</div>
<div class="line">            return _status_; \</div>
<div class="line">        } \</div>
<div class="line">    }</div>
<div class="ttc" id="adpaintrin_8h_html_a5fd782288750c2672632ab0808033578"><div class="ttname"><a href="dpaintrin_8h.html#a5fd782288750c2672632ab0808033578">if</a></div><div class="ttdeci">if(bitoffset % 64+bitlength &gt; 64) result|</div></div>
<div class="ttc" id="agroup__DOCA__ERROR_html_gafb7cd9164e4e08c6dd99942c2d1a65fd"><div class="ttname"><a href="group__DOCA__ERROR.html#gafb7cd9164e4e08c6dd99942c2d1a65fd">doca_error_get_descr</a></div><div class="ttdeci">DOCA_STABLE const char * doca_error_get_descr(doca_error_t error)</div><div class="ttdoc">Returns the description string of an error code.</div></div>
<div class="ttc" id="agroup__DOCA__ERROR_html_ggab6eb49658cb99f7c7f960ee9cd47ad6aa9ce2c04e18d04ac2e447571b33def6d7"><div class="ttname"><a href="group__DOCA__ERROR.html#ggab6eb49658cb99f7c7f960ee9cd47ad6aa9ce2c04e18d04ac2e447571b33def6d7">DOCA_SUCCESS</a></div><div class="ttdeci">@ DOCA_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="doca__error_8h_source.html#l00038">doca_error.h:38</a></div></div>
</div><!-- fragment --><p>This sample demonstrates how to handle task error The sample submits a couple of good tasks and then submits a bad task that will fail in the HW. The sample does not use doca_task_try_submit to avoid submission failure. The sample uses DOCA_DMA context as an example (DOCA PE can run any library that abides to the PE context API). The sample runs 255 DMA memcpy tasks, failing the second task. Due to the asynchronous nature of the HW some tasks that are submitted after the faulty task are completed before it with success. This macro is used to minimize code size. The macro runs an expression and returns error if the expression status is not DOCA_SUCCESS </p>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00058">58</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="a9e915ae0cd18328d97bb43f3869edc07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e915ae0cd18328d97bb43f3869edc07">&#9670;&nbsp;</a></span>NUM_TASKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_TASKS&#160;&#160;&#160;(255)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00068">68</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a427ac9ff917e55e9a56a4d1c4fd15dfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427ac9ff917e55e9a56a4d1c4fd15dfb">&#9670;&nbsp;</a></span>allocate_tasks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> allocate_tasks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__sample__state__base.html">pe_sample_state_base</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct doca_dma *&#160;</td>
          <td class="paramname"><em>dma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_tasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="____stddef__size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>dma_buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct doca_dma_task_memcpy **&#160;</td>
          <td class="paramname"><em>tasks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method allocate the DMA tasks but does not submit them. This is a sample choice. A task can be submitted immediately after it is allocated. The method allocates a bad task after a couple of good tasks and then allocates good tasks as well. DMA will move to stopping state once the task completes as error. From that moment all tasks will be completed with error.</p>
<p>@state [in]: sample state @dma [in]: DMA context to allocate the tasks from @num_tasks [in]: Number of tasks per group @dma_buffer_size [in]: Size of DMA buffer @tasks [in]: tasks to allocate </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00256">256</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="a27d249b58ab56d35977b8846c815c490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27d249b58ab56d35977b8846c815c490">&#9670;&nbsp;</a></span>cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method cleans up the sample resources in reverse order of their creation. This method does not check for destroy return values for simplify. Real code should check the return value and act accordingly (e.g. if doca_ctx_stop failed with DOCA_ERROR_IN_PROGRESS it means that some contexts are still added or even that there are still in flight tasks in the progress engine).</p>
<p>@state [in]: sample state </p>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00340">340</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="af6719d7bbb87c02f71fb1f2f10653f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6719d7bbb87c02f71fb1f2f10653f3e">&#9670;&nbsp;</a></span>create_dma()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> create_dma </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create DMA</p>
<p>@state [in]: sample state </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>
<p>The ctx user data is received in the task completion callback. Setting the state to the user data binds the program to the callback. See dma_memcpy_completed_callback for usage.</p>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00212">212</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="ad09c3f0b0676d1b0c61791c272453fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09c3f0b0676d1b0c61791c272453fc6">&#9670;&nbsp;</a></span>ctx_state_to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* ctx_state_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__DOCA__CTX.html#gac5f376dd297cb9e0bc85e6495a5d7843">doca_ctx_states</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert doca_ctx_states to string</p>
<p>@state [in]: context state </p><dl class="section return"><dt>Returns</dt><dd>: string representation of the state </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00092">92</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="a96ff91855d00dbffba3eb1244ebd2bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96ff91855d00dbffba3eb1244ebd2bbc">&#9670;&nbsp;</a></span>dma_memcpy_completed_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dma_memcpy_completed_callback </td>
          <td>(</td>
          <td class="paramtype">struct doca_dma_task_memcpy *&#160;</td>
          <td class="paramname"><em>dma_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="uniondoca__data.html">doca_data</a>&#160;</td>
          <td class="paramname"><em>task_user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="uniondoca__data.html">doca_data</a>&#160;</td>
          <td class="paramname"><em>ctx_user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>process_completed_dma_memcpy_task returns doca_error_t to be able to use EXIT_ON_FAILURE, but there is nothing to do with the return value.</p>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00152">152</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="aa366c10fa05393ac73e2a41eb9690b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa366c10fa05393ac73e2a41eb9690b4c">&#9670;&nbsp;</a></span>dma_memcpy_error_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dma_memcpy_error_callback </td>
          <td>(</td>
          <td class="paramtype">struct doca_dma_task_memcpy *&#160;</td>
          <td class="paramname"><em>dma_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="uniondoca__data.html">doca_data</a>&#160;</td>
          <td class="paramname"><em>task_user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="uniondoca__data.html">doca_data</a>&#160;</td>
          <td class="paramname"><em>ctx_user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The task is no longer required, therefore it can be freed. Freeing the task in the error callback facilitates automatic stop of the library in case of an error. If the task is not freed here then all tasks should be freed before final call to doca_pe_progress. The context won't stop until all tasks are freed.</p>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00180">180</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="ad44b5fe7a1a170c317cee4ba30822461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad44b5fe7a1a170c317cee4ba30822461">&#9670;&nbsp;</a></span>dma_state_changed_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dma_state_changed_cb </td>
          <td>(</td>
          <td class="paramtype">const union <a class="el" href="uniondoca__data.html">doca_data</a>&#160;</td>
          <td class="paramname"><em>ctx_user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct doca_ctx *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__DOCA__CTX.html#gac5f376dd297cb9e0bc85e6495a5d7843">doca_ctx_states</a>&#160;</td>
          <td class="paramname"><em>prev_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__DOCA__CTX.html#gac5f376dd297cb9e0bc85e6495a5d7843">doca_ctx_states</a>&#160;</td>
          <td class="paramname"><em>next_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>DMA state changed callback</p>
<p>@ctx_user_data [in]: ctx user data @ctx [in]: ctx @prev_state [in]: previous ctx state @next_state [in]: next ctx state </p>
<p>idle -&gt; starting state is irrelevant because DMA start is synchronous. idle -&gt; running is obvious so this callback shall ignore it. running -&gt; stopping is expected because the sample shall request to stop after half of the tasks are done. stopping -&gt; stopped is expected (implies that all in-flight tasks are flushed). The program can use this callback to raise a flag that breaks the progress loop or any other action that depends on state transition</p>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00116">116</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="a066f7efd85f9bf0fea552edfef227081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a066f7efd85f9bf0fea552edfef227081">&#9670;&nbsp;</a></span>DOCA_LOG_REGISTER()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DOCA_LOG_REGISTER </td>
          <td>(</td>
          <td class="paramtype">PE_TASK_ERROR::SAMPLE&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d545ec6e55ae79bf25b8aeec0601293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d545ec6e55ae79bf25b8aeec0601293">&#9670;&nbsp;</a></span>poll_for_dma_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> poll_for_dma_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method polls the PE until DMA is stopped. The DMA stop is asynchronous in this sample so after all tasks are completed the PE must be called once again to move the DMA from stopping to idle.</p>
<p>@state [in]: sample state </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>
<p>Notice that the context will remain in stopping state until all tasks are freed. This sample frees the tasks in the completion or error callback. But if the developer chooses to free the tasks outside of these callbacks then they have to be freed before this loop.</p>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00311">311</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="a56f33bd8e1289251781afa5196568413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f33bd8e1289251781afa5196568413">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpe__task__error__sample__state.html">pe_task_error_sample_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Run the sample The method (and the method it calls) does not cleanup anything in case of failures. It assumes that cleanup is called after it at any case.</p>
<p>@state [in]: sample state </p><dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00361">361</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
<a id="aea15e0288b6f5ae44562ae8ea7756d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea15e0288b6f5ae44562ae8ea7756d6c">&#9670;&nbsp;</a></span>run_pe_task_error_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DOCA__ERROR.html#ga709800305e1197db067f30025480b7c5">doca_error_t</a> run_pe_task_error_sample </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the PE polling sample</p>
<dl class="section return"><dt>Returns</dt><dd>: DOCA_SUCCESS on success and DOCA_ERROR otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="pe__task__error__sample_8c_source.html#l00388">388</a> of file <a class="el" href="pe__task__error__sample_8c_source.html">pe_task_error_sample.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4c85611b7d1fbc03792decfa171a9595.html">samples</a></li><li class="navelem"><a class="el" href="dir_1311347775fff2a1d19aee140411e175.html">doca_common</a></li><li class="navelem"><a class="el" href="dir_22c5c82d1acf392be529e994aec96ea7.html">pe_task_error</a></li><li class="navelem"><a class="el" href="pe__task__error__sample_8c.html">pe_task_error_sample.c</a></li>
    <li class="footer">Generated on Wed Aug 13 2025 09:23:37 for NVIDIA DOCA SDK by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
